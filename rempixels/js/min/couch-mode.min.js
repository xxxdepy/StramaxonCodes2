/********************************
Couch Mode Plugin for Blogger

Developed by Deepak Kamat
http://stramaxon.com
********************************/
var couchModefontLoaded=!1,couch_anim={show:"fadeInUp",hide:"fadeOutDown"};$(document).ready(function(){"#couch"==window.location.hash&&couchMode()});function removeCouch(){$("#couchBox").removeClass(couch_anim.show).addClass(couch_anim.hide);setTimeout(function(){$("#couchBox").hide()},400);scrollClass(!1);window.location.hash=""}
function showCouch(){$("#couchBox").removeClass(couch_anim.hide).addClass(couch_anim.show);setTimeout(function(){$("#couchBox").show()},400);scrollClass(!0);window.location.hash="couch"}
function couchMode(){loadCouchFont();$(document).on("keydown",function(a){27==a.which&&0<$("#couchBox").length&&removeCouch()});if(0<$("#couchBox").length)return showCouch(),!0;if(1<$(".post-outer").length||1>$(".post-outer").length)return 1<$(".post-outer").length?console.warn("Couch mode can not be accessed on pages without at least one post."):1<$(".post-outer").length&&console.warn("Couch mode can not be accessed on pages with more than one post."),!1;var a=$(".item--single"),b=a.find(".post-title").text().trim(),
c=$("link[rel=canonical]").attr("href"),d=$(".date-header").text().trim(),e=a.find(".post-body").html().trim(),f=a.find(".author-name").text().trim(),a=a.find(".author-name").find("a").attr("href"),b='<section class="couch-container animated '+couch_anim.show+'" id="couchBox"><div class="couch-inner"> <div class="close-btn"><a href="javascript:removeCouch();"><i class="fa fa-times fa-2x"></i></a></div><div class="couch-content"><h2 class="entry-title"><a href="'+c+'">'+b+'</a></h2><p class="big-text hidden"></p><div class="entry-details"><span class="author">by <a href="'+
a+'">'+f+'</a></span><span class="date">on '+d+'</span></div><div class="entry-content">'+e+"</div></div></div></section>";window.location.hash="couch";scrollClass(!0);$("body").prepend(b);return!0}
function loadCouchFont(){if(!couchModefontLoaded){WebFontConfig={google:{families:["Droid+Serif:400,700:latin"]}};var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}couchModefontLoaded=!0}
function removeHash(){var a=window.location.href,b=a.indexOf("#");0<b&&(window.location=a.substring(0,b))}function scrollClass(a){a?$("body").addClass("no_mouse_scroll"):$("body").removeClass("no_mouse_scroll")};
